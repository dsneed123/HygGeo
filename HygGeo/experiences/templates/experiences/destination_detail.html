{% extends 'base.html' %}

{% block title %}{{ destination.name }}, {{ destination.country }} - Sustainable Travel - HygGeo{% endblock %}

{% block content %}
<div class="destination-detail-container">
    <div class="container py-4">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-3">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'experiences:destination_list' %}">Destinations</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ destination.name }}</li>
            </ol>
        </nav>

        <!-- Hero Section -->
        <div class="destination-hero mb-4" data-aos="fade-up">
            {% if destination.image %}
            <div class="hero-image-container">
                <img src="{{ destination.image.url }}" alt="{{ destination.name|escape }}" class="hero-image">
                <div class="hero-overlay">
                    <div class="hero-content">
                        <div class="destination-badges">
                            <span class="badge badge-sustainability">
                                <i class="fas fa-leaf me-1"></i>{{ destination.sustainability_score }}/10 Sustainability
                            </span>
                            <span class="badge badge-hygge">
                                <i class="fas fa-heart me-1"></i>{{ destination.hygge_factor }}/10 Hygge
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="hero-placeholder">
                <i class="fas fa-mountain"></i>
            </div>
            {% endif %}
            
            <div class="hero-info">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <h1 class="destination-title">{{ destination.name }}</h1>
                        <p class="destination-location">
                            <i class="fas fa-map-marker-alt"></i>
                            {{ destination.country }}{% if destination.region %}, {{ destination.region }}{% endif %}
                        </p>
                        <p class="destination-description">{{ destination.description }}</p>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <div class="destination-stats">
                            <div class="stat-card">
                                <div class="stat-number">{{ total_experiences }}</div>
                                <div class="stat-label">Experience{{ total_experiences|pluralize }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Travel Information -->
        <div class="row mb-4">
            <div class="col-lg-8">
                <!-- Destination Info Cards -->
                <div class="row g-3 mb-4" data-aos="fade-up" data-aos-delay="100">
                    {% if destination.climate %}
                    <div class="col-md-6">
                        <div class="info-card climate-card">
                            <div class="info-icon">
                                <i class="fas fa-thermometer-half"></i>
                            </div>
                            <div class="info-content">
                                <h5>Climate</h5>
                                <p>{{ destination.climate }}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if destination.best_time_to_visit %}
                    <div class="col-md-6">
                        <div class="info-card time-card">
                            <div class="info-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="info-content">
                                <h5>Best Time to Visit</h5>
                                <p>{{ destination.best_time_to_visit }}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    <div class="col-md-6">
                        <div class="info-card sustainability-card">
                            <div class="info-icon">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <div class="info-content">
                                <h5>Sustainability Score</h5>
                                <div class="score-display">
                                    <span class="score-number">{{ destination.sustainability_score }}</span>
                                    <span class="score-max">/10</span>
                                </div>
                                <div class="score-bar">
                                    <div class="score-fill" style="width: {{ destination.sustainability_score }}0%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="info-card hygge-card">
                            <div class="info-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="info-content">
                                <h5>Hygge Factor</h5>
                                <div class="score-display">
                                    <span class="score-number">{{ destination.hygge_factor }}</span>
                                    <span class="score-max">/10</span>
                                </div>
                                <div class="score-bar">
                                    <div class="score-fill hygge-fill" style="width: {{ destination.hygge_factor }}0%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Experiences by Type -->
                {% if experiences_by_type %}
                <div class="experiences-section">
                    <h3 class="section-title">
                        <i class="fas fa-compass me-2"></i>Experiences in {{ destination.name }}
                    </h3>
                    
                    {% for exp_type, type_experiences in experiences_by_type.items %}
                    <div class="experience-type-section mb-4" data-aos="fade-up" data-aos-delay="200">
                        <h4 class="experience-type-title">
                            <span class="type-icon">
                                {% if 'accommodation' in exp_type|lower %}
                                    <i class="fas fa-bed"></i>
                                {% elif 'activity' in exp_type|lower %}
                                    <i class="fas fa-running"></i>
                                {% elif 'tour' in exp_type|lower %}
                                    <i class="fas fa-route"></i>
                                {% elif 'transport' in exp_type|lower %}
                                    <i class="fas fa-car"></i>
                                {% elif 'food' in exp_type|lower %}
                                    <i class="fas fa-utensils"></i>
                                {% elif 'wellness' in exp_type|lower %}
                                    <i class="fas fa-spa"></i>
                                {% elif 'cultural' in exp_type|lower %}
                                    <i class="fas fa-landmark"></i>
                                {% elif 'adventure' in exp_type|lower %}
                                    <i class="fas fa-mountain"></i>
                                {% else %}
                                    <i class="fas fa-star"></i>
                                {% endif %}
                            </span>
                            {{ exp_type }}
                            <span class="type-count">({{ type_experiences|length }})</span>
                        </h4>
                        
                        <div class="row g-3">
                            {% for experience in type_experiences|slice:":6" %}
                            <div class="col-lg-6">
                                <div class="experience-card">
                                    <div class="experience-image-container">
                                        {% if experience.main_image %}
                                        <img src="{{ experience.main_image.url }}" alt="{{ experience.title|escape }}" class="experience-image">
                                        {% else %}
                                        <div class="experience-placeholder">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        {% endif %}
                                        
                                        <div class="experience-overlay">
                                            <div class="experience-badges">
                                                {% if experience.is_featured %}
                                                <span class="badge badge-featured">Featured</span>
                                                {% endif %}
                                                {% with badge=experience.get_sustainability_badge %}
                                                <span class="badge badge-sustainability">{{ badge.text }}</span>
                                                {% endwith %}
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="experience-content">
                                        <h6 class="experience-title">
                                            <a href="{% url 'experiences:experience_detail' experience.slug %}">
                                                {{ experience.title }}
                                            </a>
                                        </h6>
                                        <p class="experience-description">{{ experience.short_description|truncatewords:15 }}</p>
                                        
                                        <div class="experience-meta">
                                            <div class="experience-price">{{ experience.get_price_display }}</div>
                                            <div class="experience-duration">{{ experience.get_duration_display }}</div>
                                        </div>
                                        
                                        <div class="experience-scores">
                                            <div class="score-item">
                                                <i class="fas fa-leaf text-success"></i>
                                                <span>{{ experience.sustainability_score }}/10</span>
                                            </div>
                                            <div class="score-item">
                                                <i class="fas fa-heart text-danger"></i>
                                                <span>{{ experience.hygge_factor }}/10</span>
                                            </div>
                                        </div>
                                        
                                        <div class="experience-actions">
                                            <a href="{% url 'experiences:experience_detail' experience.slug %}" class="btn btn-primary btn-sm">
                                                <i class="fas fa-eye me-1"></i>View Details
                                            </a>
                                            {% if user.is_authenticated %}
                                            <button class="btn btn-outline-secondary btn-sm bookmark-btn" data-experience-id="{{ experience.id }}">
                                                <i class="far fa-bookmark"></i>
                                            </button>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        
                        {% if type_experiences|length > 6 %}
                        <div class="text-center mt-3">
                            <a href="{% url 'experiences:experience_list' %}?destination={{ destination.slug }}&type={{ exp_type|lower }}" class="btn btn-outline-primary">
                                <i class="fas fa-eye me-2"></i>View All {{ exp_type }} ({{ type_experiences|length }})
                            </a>
                        </div>
                        {% endif %}
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="no-experiences-section">
                    <div class="text-center py-4">
                        <i class="fas fa-compass text-muted" style="font-size: 3rem;"></i>
                        <h4 class="text-muted mt-2">No Experiences Available Yet</h4>
                        <p class="text-muted">We're working on adding amazing sustainable experiences to {{ destination.name }}. Check back soon!</p>
                        <a href="{% url 'experiences:experience_list' %}" class="btn btn-primary mt-2">
                            <i class="fas fa-search me-2"></i>Explore Other Destinations
                        </a>
                    </div>
                </div>
                {% endif %}
            </div>
            
            <!-- Sidebar -->
            <div class="col-lg-4">
                <div class="destination-sidebar" data-aos="fade-up" data-aos-delay="300">
                    <!-- Quick Stats -->
                    <div class="stats-card mb-3">
                        <h5 class="stats-title">
                            <i class="fas fa-chart-bar me-2"></i>Quick Stats
                        </h5>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-list"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-number">{{ total_experiences }}</div>
                                    <div class="stat-label">Experience{{ total_experiences|pluralize }}</div>
                                </div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-icon sustainability">
                                    <i class="fas fa-leaf"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-number">{{ destination.sustainability_score }}/10</div>
                                    <div class="stat-label">Sustainability</div>
                                </div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-icon hygge">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-number">{{ destination.hygge_factor }}/10</div>
                                    <div class="stat-label">Hygge Factor</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons mb-3">
                        <a href="{% url 'experiences:experience_list' %}?destination={{ destination.slug }}" class="btn btn-primary w-100 mb-2">
                            <i class="fas fa-search me-2"></i>Browse All Experiences
                        </a>
                        {% if user.is_authenticated %}
                        <a href="{% url 'experiences:recommendations' %}" class="btn btn-outline-primary w-100">
                            <i class="fas fa-compass me-2"></i>Get Recommendations
                        </a>
                        {% else %}
                        <a href="{% url 'signup' %}" class="btn btn-outline-primary w-100">
                            <i class="fas fa-user-plus me-2"></i>Sign Up for Recommendations
                        </a>
                        {% endif %}
                    </div>
                    
                    <!-- Travel Tips -->
                    <div class="tips-card">
                        <h5 class="tips-title">
                            <i class="fas fa-lightbulb me-2"></i>Sustainable Travel Tips
                        </h5>
                        <div class="tips-list">
                            <div class="tip-item">
                                <i class="fas fa-leaf text-success"></i>
                                <span>Choose local accommodations and restaurants</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-recycle text-primary"></i>
                                <span>Minimize waste and recycle when possible</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-walking text-warning"></i>
                                <span>Walk, bike, or use public transportation</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-hands-helping text-info"></i>
                                <span>Support local communities and cultures</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Core Variables */
:root {
    --hygge-green: #2d5a3d;
    --hygge-light-green: #4a8b5e;
    --hygge-cream: #f8f5f0;
    --hygge-warm-white: #fffcf7;
    --hygge-slate: #4a4a4a;
    --hygge-gold: #d4a017;
    --border-radius-sm: 8px;
    --border-radius-md: 12px;
    --border-radius-lg: 16px;
    --border-radius-xl: 24px;
    --border-radius-pill: 50px;
    --spacing-xs: 0.5rem;
    --spacing-sm: 0.75rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.25rem;
    --spacing-xl: 1.5rem;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
    --shadow-lg: 0 4px 12px rgba(0,0,0,0.15);
    --transition-normal: 0.3s ease;
}

/* Destination Detail Container */
.destination-detail-container {
    background: var(--hygge-warm-white);
    min-height: 100vh;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
}

/* Breadcrumb */
.breadcrumb {
    background: rgba(255, 255, 255, 0.95);
    border-radius: var(--border-radius-md);
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px solid rgba(0,0,0,0.05);
}

.breadcrumb-item a {
    color: var(--hygge-green);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    transition: var(--transition-normal);
}

.breadcrumb-item a:hover {
    color: var(--hygge-light-green);
}

/* Hero Section */
.destination-hero {
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    background: white;
    box-shadow: var(--shadow-sm);
}

.hero-image-container {
    position: relative;
    height: 350px;
    overflow: hidden;
}

.hero-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--transition-normal);
}

.hero-placeholder {
    height: 350px;
    background: var(--hygge-cream);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--hygge-slate);
    font-size: 4rem;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.2), transparent 50%);
    display: flex;
    align-items: flex-end;
    padding: var(--spacing-lg);
}

.destination-badges {
    display: flex;
    gap: var(--spacing-sm);
}

.badge {
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    font-size: 0.85rem;
    font-weight: var(--font-weight-medium);
    color: white;
    transition: var(--transition-normal);
}

.badge-sustainability {
    background: var(--hygge-green);
}

.badge-hygge {
    background: #dc3545;
}

.hero-info {
    padding: var(--spacing-lg);
    background: white;
}

.destination-title {
    font-size: 2.25rem;
    font-weight: var(--font-weight-bold);
    color: var(--hygge-green);
    margin-bottom: var(--spacing-sm);
}

.destination-location {
    color: var(--hygge-slate);
    font-size: 1rem;
    font-weight: var(--font-weight-medium);
    display: flex;
    align-items: center;
    margin-bottom: var(--spacing-md);
}

.destination-location i {
    color: var(--hygge-green);
    margin-right: var(--spacing-xs);
}

.destination-description {
    font-size: 1rem;
    line-height: 1.8;
    color: var(--hygge-slate);
}

.destination-stats {
    display: flex;
    justify-content: flex-end;
}

.stat-card {
    background: var(--hygge-cream);
    padding: var(--spacing-md);
    border-radius: var(--border-radius-md);
    text-align: center;
    border: 1px solid rgba(0,0,0,0.05);
}

.stat-number {
    font-size: 1.75rem;
    font-weight: var(--font-weight-bold);
    color: var(--hygge-green);
}

.stat-label {
    font-size: 0.85rem;
    color: var(--hygge-slate);
}

/* Info Cards */
.info-card {
    background: white;
    border-radius: var(--border-radius-md);
    padding: var(--spacing-md);
    box-shadow: var(--shadow-sm);
    transition: var(--transition-normal);
}

.info-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg);
}

.climate-card { border-left: 3px solid #17a2b8; }
.time-card { border-left: 3px solid #ffc107; }
.sustainability-card { border-left: 3px solid var(--hygge-green); }
.hygge-card { border-left: 3px solid #dc3545; }

.info-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    color: white;
    margin-bottom: var(--spacing-sm);
}

.climate-card .info-icon { background: #17a2b8; }
.time-card .info-icon { background: #ffc107; }
.sustainability-card .info-icon { background: var(--hygge-green); }
.hygge-card .info-icon { background: #dc3545; }

.info-content h5 {
    font-size: 1.1rem;
    font-weight: var(--font-weight-semibold);
    color: var(--hygge-green);
    margin-bottom: var(--spacing-sm);
}

.score-display {
    display: flex;
    align-items: baseline;
    margin-bottom: var(--spacing-sm);
}

.score-number {
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
    color: var(--hygge-green);
}

.score-max {
    font-size: 1rem;
    color: var(--hygge-slate);
    margin-left: var(--spacing-xs);
}

.score-bar {
    height: 6px;
    background: rgba(0,0,0,0.1);
    border-radius: var(--border-radius-sm);
    overflow: hidden;
}

.score-fill {
    height: 100%;
    background: var(--hygge-green);
    transition: width 0.8s ease;
}

.hygge-fill {
    background: #dc3545;
}

/* Section Titles */
.section-title {
    font-size: 1.75rem;
    font-weight: var(--font-weight-semibold);
    color: var(--hygge-green);
    margin-bottom: var(--spacing-lg);
}

/* Experience Type Sections */
.experience-type-title {
    font-size: 1.25rem;
    font-weight: var(--font-weight-semibold);
    color: var(--hygge-green);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
}

.type-icon {
    margin-right: var(--spacing-sm);
    padding: var(--spacing-xs);
    background: var(--hygge-green);
    color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
}

.type-count {
    color: var(--hygge-slate);
    font-size: 0.9rem;
    margin-left: var(--spacing-sm);
}

/* Experience Cards */
.experience-card {
    background: white;
    border-radius: var(--border-radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    transition: var(--transition-normal);
}

.experience-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg);
}

.experience-image-container {
    position: relative;
    height: 160px;
    overflow: hidden;
}

.experience-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.experience-placeholder {
    width: 100%;
    height: 100%;
    background: var(--hygge-cream);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--hygge-slate);
    font-size: 1.5rem;
}

.experience-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.2), transparent);
    opacity: 0;
    transition: var(--transition-normal);
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
    padding: var(--spacing-sm);
}

.experience-card:hover .experience-overlay {
    opacity: 1;
}

.experience-badges .badge {
    font-size: 0.75rem;
    padding: var(--spacing-xs) var(--spacing-sm);
}

.badge-featured {
    background: var(--hygge-gold);
}

.experience-content {
    padding: var(--spacing-md);
}

.experience-title {
    font-size: 1.1rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--spacing-sm);
}

.experience-title a {
    color: var(--hygge-green);
    text-decoration: none;
}

.experience-title a:hover {
    color: var(--hygge-light-green);
}

.experience-description {
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--hygge-slate);
    margin-bottom: var(--spacing-md);
}

.experience-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-sm);
    font-size: 0.85rem;
}

.experience-price {
    font-weight: var(--font-weight-semibold);
    color: #007bff;
}

.experience-duration {
    color: var(--hygge-slate);
}

.experience-scores {
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
    font-size: 0.85rem;
}

.score-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.experience-actions {
    display: flex;
    gap: var(--spacing-sm);
}

.btn {
    border-radius: var(--border-radius-sm);
    font-size: 0.85rem;
    padding: var(--spacing-xs) var(--spacing-md);
    transition: var(--transition-normal);
}

.btn-primary {
    background: var(--hygge-green);
    border-color: var(--hygge-green);
}

.btn-primary:hover {
    background: var(--hygge-light-green);
    border-color: var(--hygge-light-green);
}

.btn-outline-primary {
    border-color: var(--hygge-green);
    color: var(--hygge-green);
}

.btn-outline-primary:hover {
    background: var(--hygge-green);
    color: white;
}

.bookmark-btn {
    width: 32px;
    height: 32px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Sidebar */
.destination-sidebar {
    position: sticky;
    top: 1rem;
}

.stats-card,
.tips-card {
    background: white;
    border-radius: var(--border-radius-md);
    padding: var(--spacing-md);
    box-shadow: var(--shadow-sm);
}

.stats-title,
.tips-title {
    font-size: 1.1rem;
    font-weight: var(--font-weight-semibold);
    color: var(--hygge-green);
    margin-bottom: var(--spacing-md);
}

.stats-grid {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.stat-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    transition: var(--transition-normal);
}

.stat-item:hover {
    background: var(--hygge-cream);
}

.stat-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--hygge-green);
    color: white;
    font-size: 1rem;
}

.stat-icon.sustainability { background: var(--hygge-green); }
.stat-icon.hygge { background: #dc3545; }

.stat-info .stat-number {
    font-size: 1.1rem;
    font-weight: var(--font-weight-semibold);
    color: var(--hygge-green);
}

.stat-info .stat-label {
    font-size: 0.85rem;
    color: var(--hygge-slate);
}

.action-buttons {
    background: white;
    border-radius: var(--border-radius-md);
    padding: var(--spacing-md);
    box-shadow: var(--shadow-sm);
}

.tips-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.tip-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    transition: var(--transition-normal);
}

.tip-item:hover {
    background: var(--hygge-cream);
}

.tip-item i {
    font-size: 1rem;
}

.tip-item span {
    font-size: 0.9rem;
    color: var(--hygge-slate);
}

/* Responsive Design */
@media (max-width: 992px) {
    .destination-sidebar {
        position: static;
        margin-top: var(--spacing-lg);
    }
    
    .destination-title {
        font-size: 1.75rem;
    }
    
    .hero-image-container {
        height: 250px;
    }
}

@media (max-width: 768px) {
    .destination-title {
        font-size: 1.5rem;
    }
    
    .destination-stats {
        justify-content: center;
        margin-top: var(--spacing-md);
    }
    
    .hero-image-container {
        height: 200px;
    }
    
    .experience-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
}
</style>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize AOS
    AOS.init({
        duration: 600,
        easing: 'ease-out',
        once: true
    });

    // Animate score bars
    const scoreBars = document.querySelectorAll('.score-fill');
    scoreBars.forEach(bar => {
        setTimeout(() => {
            bar.style.width = bar.style.width;
        }, 300);
    });

    // Bookmark functionality
    const bookmarkButtons = document.querySelectorAll('.bookmark-btn');
    bookmarkButtons.forEach(button => {
        button.addEventListener('click', async function(e) {
            e.preventDefault();
            const experienceId = this.dataset.experienceId;
            const icon = this.querySelector('i');
            
            try {
                const response = await fetch(`{% url 'experiences:bookmark_experience' '00000000-0000-0000-0000-000000000000' %}`.replace('00000000-0000-0000-0000-000000000000', experienceId), {
                    method: 'POST',
                    headers: {
                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,
                        'Content-Type': 'application/json',
                    },
                });
                
                const data = await response.json();
                if (data.success) {
                    icon.className = data.bookmarked ? 'fas fa-bookmark' : 'far fa-bookmark';
                    this.classList.toggle('bookmarked', data.bookmarked);
                }
            } catch (error) {
                console.error('Error bookmarking experience:', error);
            }
        });
    });

    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>

{% csrf_token %}
{% endblock %}