{% extends 'base.html' %}
{% load static %}
{% load cloudflare_images %}

{% block title %}HygGeo - Sustainable Travel with Danish Hygge{% endblock %}

{% block extra_head %}
<!-- Preload hero image for LCP optimization -->
<link rel="preload"
      as="image"
      href="{% static 'banner.jpeg' %}"
      type="image/jpeg"
      fetchpriority="high">

<!-- Critical CSS - Minified for speed, prevents CLS -->
<style>
/* Hero banner - static Copenhagen image with contained search */
.hero-banner{position:relative;background:#2d5a3d;min-height:50vh;overflow:hidden;display:flex;align-items:flex-start;padding-bottom:200px}
.banner-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;z-index:1}
.banner-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.3);z-index:2}
.banner-content-wrapper{position:relative;z-index:10;width:100%;padding:1.5rem 1rem 0}
.banner-content{text-align:center;color:white;background:rgba(0,0,0,0.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);padding:1.5rem;border-radius:15px;max-width:700px;margin:0 auto 3rem}
.hero-title{font-size:2.8rem;font-weight:800;margin-bottom:0.5rem;text-shadow:2px 2px 4px rgba(0,0,0,0.5)}
.hero-subtitle{font-size:1.2rem;color:#ffc107;margin-bottom:0.5rem;text-shadow:1px 1px 3px rgba(0,0,0,0.5)}
.hero-description{font-size:1rem;margin:0 auto;text-shadow:1px 1px 2px rgba(0,0,0,0.5);line-height:1.5}
/* Tab interface - inside banner - blends with page background */
.search-tabs{background:#faf8f5;border-radius:15px 15px 0 0;padding:0.7rem 0.8rem;position:absolute;bottom:0;left:0;right:0;z-index:100;box-shadow:0 -2px 10px rgba(0,0,0,0.05);max-width:850px;margin:0 auto;border-top:1px solid #e8e4df}
.tab-buttons{display:flex;justify-content:center;gap:0.6rem;margin-bottom:0;flex-wrap:nowrap}
.tab-btn{background:#fff;border:1px solid #ddd;border-radius:8px;padding:0.9rem 0.6rem;min-width:0;cursor:pointer;transition:all 0.3s;text-align:center;flex:1 1 0;max-width:none}
.tab-btn:hover,.tab-btn.active{border-color:#1e5a3d;background:#f0f7f4}
.tab-btn i{font-size:1.5rem;color:#1e5a3d;display:block;margin-bottom:0.3rem}
.tab-btn span{display:block;font-weight:600;color:#555;font-size:0.75rem;line-height:1.2}
.tab-content{display:none}
.tab-content.active{display:block}
.tab-section{display:none}
.tab-section.active{display:block}
.search-container{max-width:700px;margin:0 auto}
.search-bar-container{margin-top:0.8rem}
.search-form{width:100%}
.search-input-wrapper{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #ddd;border-radius:8px;transition:border-color 0.3s}
.search-input-wrapper:focus-within{border-color:#1e5a3d}
.search-icon{position:absolute;left:1rem;color:#888;font-size:1rem}
.search-input{flex:1;border:none;outline:none;padding:0.9rem 1rem 0.9rem 3rem;font-size:0.9rem;background:transparent}
.search-input::placeholder{color:#aaa}
.search-submit-btn{background:#1e5a3d;color:#fff;border:none;padding:0.9rem 1.5rem;border-radius:0 6px 6px 0;cursor:pointer;transition:background 0.3s;display:flex;align-items:center;justify-content:center}
.search-submit-btn:hover{background:#164a2f}
.search-submit-btn i{font-size:1rem}
.tab-preview{display:flex;flex-direction:column;gap:0.6rem}
.preview-item{display:flex;align-items:center;gap:0.8rem;padding:0.7rem 0.9rem;background:#fff;border:1px solid #e0e0e0;border-radius:8px;text-decoration:none;transition:all 0.3s;color:inherit}
.preview-item:hover{border-color:#1e5a3d;background:#f9fdf9;transform:translateX(3px)}
.preview-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#f0f7f4;border-radius:6px;color:#1e5a3d;font-size:1.2rem;flex-shrink:0}
.preview-info{flex:1;min-width:0}
.preview-title{font-size:0.85rem;font-weight:600;color:#333;margin:0 0 0.2rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.preview-location{font-size:0.72rem;color:#666;margin:0;display:flex;align-items:center;gap:0.3rem}
.preview-location i{font-size:0.7rem}
.view-all-link{display:inline-block;text-align:center;color:#1e5a3d;font-weight:600;font-size:0.8rem;padding:0.6rem;text-decoration:none;border-radius:6px;background:#f0f7f4;transition:background 0.3s;margin-top:0.3rem}
.view-all-link:hover{background:#e0ebe0;color:#1e5a3d}
@media(max-width:991px){
.hero-banner{padding-bottom:165px;min-height:65vh}
.banner-content{max-width:90%;margin-bottom:5rem;padding:1.2rem}
.banner-content-wrapper{padding:1rem 1rem 0}
.hero-title{font-size:1.8rem;margin-bottom:0.4rem}
.hero-subtitle{font-size:0.95rem;margin-bottom:0.4rem}
.hero-description{font-size:0.88rem;line-height:1.3}
.search-tabs{padding:0.65rem 0.75rem;border-radius:15px 15px 0 0}
.tab-preview{gap:0.5rem}
.preview-item{padding:0.6rem 0.75rem}
.preview-icon{width:35px;height:35px;font-size:1.1rem}
.preview-title{font-size:0.78rem}
.preview-location{font-size:0.68rem}
.view-all-link{font-size:0.75rem;padding:0.55rem}
.tab-buttons{gap:0.4rem;margin-bottom:0;flex-wrap:nowrap}
.tab-btn{flex:1 1 0;max-width:none;min-width:0;padding:0.5rem 0.35rem;border-radius:6px}
.tab-btn i{font-size:1.1rem;margin-bottom:0.15rem}
.tab-btn span{font-size:0.65rem;font-weight:600;line-height:1.1}
.search-input{padding:0.75rem 1rem 0.75rem 2.8rem;font-size:0.85rem}
.search-icon{left:0.85rem;font-size:0.95rem}
.search-submit-btn{padding:0.75rem 1.2rem}
}
@media(max-width:767px){
.hero-banner{min-height:70vh;padding-bottom:160px}
.banner-content{padding:0.9rem;margin-bottom:6rem;max-width:95%}
.banner-content-wrapper{padding:0.8rem 0.5rem 0}
.hero-title{font-size:1.4rem;margin-bottom:0.3rem}
.hero-subtitle{font-size:0.85rem;margin-bottom:0.3rem}
.hero-description{font-size:0.75rem;line-height:1.2}
.search-tabs{padding:0.55rem 0.6rem;border-radius:12px 12px 0 0}
.tab-buttons{gap:0.3rem;margin-bottom:0;flex-wrap:nowrap}
.tab-btn{flex:1 1 0;padding:0.45rem 0.25rem;min-width:0;border-radius:6px}
.tab-btn i{font-size:1rem;margin-bottom:0.12rem}
.tab-btn span{font-size:0.6rem;line-height:1.05;font-weight:600}
.search-input{padding:0.7rem 0.85rem 0.7rem 2.6rem;font-size:0.8rem}
.search-icon{left:0.75rem;font-size:0.9rem}
.search-submit-btn{padding:0.7rem 1rem}
.tab-preview{gap:0.45rem}
.preview-item{padding:0.55rem 0.65rem;gap:0.7rem}
.preview-icon{width:32px;height:32px;font-size:1rem}
.preview-title{font-size:0.75rem}
.preview-location{font-size:0.65rem}
.view-all-link{font-size:0.72rem;padding:0.5rem}
}
@media(max-width:480px){
.hero-banner{min-height:75vh;padding-bottom:155px}
.banner-content{padding:0.75rem;margin-bottom:7rem}
.banner-content-wrapper{padding:0.6rem 0.4rem 0}
.hero-title{font-size:1.2rem;margin-bottom:0.25rem}
.hero-subtitle{font-size:0.75rem;margin-bottom:0.25rem}
.hero-description{font-size:0.68rem;line-height:1.15}
.search-tabs{padding:0.5rem 0.5rem;border-radius:10px 10px 0 0}
.tab-buttons{gap:0.25rem;margin-bottom:0;flex-wrap:nowrap}
.tab-btn{padding:0.4rem 0.2rem;min-width:0;border-radius:5px;flex:1 1 0}
.tab-btn i{font-size:0.9rem;margin-bottom:0.1rem}
.tab-btn span{font-size:0.55rem;font-weight:600;line-height:1}
.search-input{padding:0.65rem 0.75rem 0.65rem 2.4rem;font-size:0.75rem}
.search-icon{left:0.65rem;font-size:0.85rem}
.search-submit-btn{padding:0.65rem 0.9rem}
.tab-preview{gap:0.4rem}
.preview-item{padding:0.5rem 0.6rem;gap:0.65rem}
.preview-icon{width:30px;height:30px;font-size:0.95rem}
.preview-title{font-size:0.7rem}
.preview-location{font-size:0.62rem}
.view-all-link{font-size:0.68rem;padding:0.45rem}
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Banner Section with Integrated Search -->
<section class="hero-banner">
    <!-- Static Copenhagen Banner Image -->
    <img src="{% static 'banner.jpeg' %}"
         alt="Copenhagen - Sustainable Travel Destination"
         class="banner-image"
         fetchpriority="high"
         width="1920"
         height="1080">
    <div class="banner-overlay"></div>

    <!-- Centered Content with Blur -->
    <div class="banner-content-wrapper">
        <div class="container">
            <div class="banner-content">
                <h1 class="hero-title">HygGeo</h1>
                <p class="hero-subtitle">Where Hygge Meets Sustainable Travel</p>
                <p class="hero-description">
                    Discover the Danish art of <em>hygge</em> - finding joy in simple, mindful moments -
                    combined with responsible travel that protects our planet for future generations.
                </p>
            </div>
        </div>
    </div>

    <!-- Tab Navigation - Inside Banner at Bottom -->
    <div class="search-tabs">
        <div class="tab-buttons">
            <button class="tab-btn active" onclick="switchTab('experiences')" id="experiences-tab">
                <i class="fas fa-hiking"></i>
                <span>Experiences</span>
            </button>
            <button class="tab-btn" onclick="switchTab('accommodations')" id="accommodations-tab">
                <i class="fas fa-home"></i>
                <span>Accommodations</span>
            </button>
            <button class="tab-btn" onclick="switchTab('trips')" id="trips-tab">
                <i class="fas fa-route"></i>
                <span>Trips</span>
            </button>
            <button class="tab-btn" onclick="switchTab('buddies')" id="buddies-tab">
                <i class="fas fa-users"></i>
                <span>Find Travel Buddy</span>
            </button>
        </div>

        <!-- Search Bar -->
        <div class="search-bar-container">
            <form method="get" action="#" class="search-form">
                <div class="search-input-wrapper">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text"
                           name="q"
                           class="search-input"
                           placeholder="Search experiences, accommodations, destinations..."
                           aria-label="Search">
                    <button type="submit" class="search-submit-btn">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Featured Experiences Section (Tab Content) -->
<section class="tab-section active" id="experiences-section" style="background-color: var(--hygge-warm-white);">
    <div class="container py-4">
        <div class="row">
            <div class="col-12 mb-4">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="h3 fw-bold mb-2" style="color: var(--hygge-green);">Featured Experiences</h2>
                        <p class="text-muted mb-0">Sustainable adventures await</p>
                    </div>
                    <a href="{% url 'experiences:experience_list' %}" class="btn btn-outline-primary btn-sm" style="color: #1e5a3d; border-color: #1e5a3d;">
                        View All <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        {% if featured_experiences %}
        <!-- Experiences Carousel -->
        <div class="experiences-carousel-wrapper">
            <div class="experiences-carousel" id="experiencesCarousel">
                {% for experience in featured_experiences %}
                <div class="experience-card">
                    <div class="experience-image">
                        {% if experience.main_image %}
                            <div class="img-aspect-container" style="aspect-ratio: 240/140;">
                                <picture>
                                    <source
                                        type="image/webp"
                                        srcset="{{ experience.main_image.url|cf_image:'format=webp,width=240,quality=20,fit=cover' }} 240w"
                                        sizes="240px">
                                    <img
                                        src="{{ experience.main_image.url|cf_image:'format=webp,width=240,quality=20,fit=cover' }}"
                                        alt="{{ experience.title }}"
                                        loading="lazy"
                                        width="240"
                                        height="140"
                                        class="img-cover">
                                </picture>
                            </div>
                        {% else %}
                            <div class="experience-placeholder">
                                <i class="fas fa-mountain"></i>
                            </div>
                        {% endif %}
                        <div class="experience-overlay">
                            <div class="experience-type-badge">
                                {% if experience.experience_type %}
                                    {{ experience.experience_type.name }}
                                {% else %}
                                    Adventure
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="experience-content">
                        <h4 class="experience-title">{{ experience.title }}</h4>
                        <p class="experience-location">
                            <i class="fas fa-map-marker-alt me-2"></i>
                            {% if experience.destination %}{{ experience.destination.name }}{% else %}Amazing Location{% endif %}
                        </p>
                        <p class="experience-description">
                            {% if experience.description %}
                                {{ experience.description|truncatewords:15 }}
                            {% else %}
                                An incredible sustainable travel experience awaits you.
                            {% endif %}
                        </p>
                        <div class="experience-stats">
                            <div class="stat">
                                <i class="fas fa-leaf"></i>
                                <span>Eco-Friendly</span>
                            </div>
                            {% if experience.price %}
                            <div class="stat">
                                <i class="fas fa-tag"></i>
                                <span>${{ experience.price }}</span>
                            </div>
                            {% endif %}
                        </div>
                        <a href="{{ experience.get_absolute_url }}" class="btn btn-experience">
                            <i class="fas fa-arrow-right me-2"></i>
                            View Details
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="experiences-nav">
                <button class="nav-btn prev-btn" onclick="scrollExperiences('prev')" aria-label="Previous experiences">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="nav-btn next-btn" onclick="scrollExperiences('next')" aria-label="Next experiences">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
        {% else %}
        <p class="text-center text-muted">No experiences available yet.</p>
        {% endif %}
    </div>
</section>

<!-- Featured Accommodations Section (Tab Content) -->
<section class="tab-section" id="accommodations-section" style="background-color: var(--hygge-cream);">
    <div class="container py-4">
        <div class="row">
            <div class="col-12 mb-4">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="h3 fw-bold mb-2" style="color: var(--hygge-green);">Featured Accommodations</h2>
                        <p class="text-muted mb-0">Eco-friendly places to stay</p>
                    </div>
                    <a href="{% url 'experiences:accommodation_list' %}" class="btn btn-outline-primary btn-sm" style="color: #1e5a3d; border-color: #1e5a3d;">
                        View All <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        {% if featured_accommodations %}
        <!-- Accommodations Carousel -->
        <div class="experiences-carousel-wrapper">
            <div class="experiences-carousel" id="accommodationsCarousel">
                {% for accommodation in featured_accommodations %}
                <div class="experience-card">
                    <div class="experience-image">
                        {% if accommodation.main_image %}
                            <div class="img-aspect-container" style="aspect-ratio: 240/140;">
                                <picture>
                                    <source
                                        type="image/webp"
                                        srcset="{{ accommodation.main_image.url|cf_image:'format=webp,width=240,quality=20,fit=cover' }} 240w"
                                        sizes="240px">
                                    <img
                                        src="{{ accommodation.main_image.url|cf_image:'format=webp,width=240,quality=20,fit=cover' }}"
                                        alt="{{ accommodation.name }}"
                                        loading="lazy"
                                        width="240"
                                        height="140"
                                        class="img-cover">
                                </picture>
                            </div>
                        {% else %}
                            <div class="experience-placeholder" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">
                                <i class="fas fa-bed"></i>
                            </div>
                        {% endif %}
                        <div class="experience-overlay">
                            <div class="experience-type-badge" style="background: rgba(155, 89, 182, 0.9);">
                                {% if accommodation.accommodation_type %}
                                    {{ accommodation.get_accommodation_type_display }}
                                {% else %}
                                    Eco-Stay
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="experience-content">
                        <h4 class="experience-title">{{ accommodation.name }}</h4>
                        <p class="experience-location">
                            <i class="fas fa-map-marker-alt me-2"></i>
                            {% if accommodation.destination %}{{ accommodation.destination.name }}{% else %}Prime Location{% endif %}
                        </p>
                        <p class="experience-description">
                            {% if accommodation.short_description %}
                                {{ accommodation.short_description|truncatewords:15 }}
                            {% elif accommodation.description %}
                                {{ accommodation.description|truncatewords:15 }}
                            {% else %}
                                A sustainable accommodation with modern amenities.
                            {% endif %}
                        </p>
                        <div class="experience-stats">
                            <div class="stat">
                                <i class="fas fa-leaf"></i>
                                <span>Eco-Certified</span>
                            </div>
                            {% if accommodation.price_per_night_from %}
                            <div class="stat">
                                <i class="fas fa-tag"></i>
                                <span>${{ accommodation.price_per_night_from }}/night</span>
                            </div>
                            {% endif %}
                        </div>
                        <a href="{% url 'experiences:accommodation_detail' accommodation.slug %}" class="btn btn-experience" style="background: #9b59b6;">
                            <i class="fas fa-arrow-right me-2"></i>
                            View Details
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="experiences-nav">
                <button class="nav-btn prev-btn" onclick="scrollAccommodations('prev')" aria-label="Previous accommodations">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="nav-btn next-btn" onclick="scrollAccommodations('next')" aria-label="Next accommodations">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
        {% else %}
        <p class="text-center text-muted">No accommodations available yet.</p>
        {% endif %}
    </div>
</section>

<!-- Trips Section (Tab Content) -->
<section class="tab-section" id="trips-section" style="background-color: var(--hygge-warm-white);">
    <div class="container py-4">
        <div class="row">
            <div class="col-12 mb-4">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="h3 fw-bold mb-2" style="color: var(--hygge-green);">Most Recent Public Trips</h2>
                        <p class="text-muted mb-0">Discover travel itineraries from the community</p>
                    </div>
                    <a href="{% url 'trip_list' %}" class="btn btn-outline-primary btn-sm" style="color: #1e5a3d; border-color: #1e5a3d;">
                        View All <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        {% if featured_trips %}
        <div class="row g-3">
            {% for trip in featured_trips|slice:":9" %}
            <div class="col-md-6 col-lg-4">
                <a href="{% url 'trip_detail' trip.pk %}" class="trip-card-link" style="text-decoration: none; color: inherit;">
                    <div class="card h-100 border-0 shadow-sm" style="transition: transform 0.3s, box-shadow 0.3s;">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-start mb-2">
                                <div class="flex-shrink-0 me-3">
                                    <div class="rounded-circle bg-success d-flex align-items-center justify-content-center"
                                         style="width: 50px; height: 50px;">
                                        <i class="fas fa-route text-white" style="font-size: 1.3rem;"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="card-title mb-1" style="font-size: 1rem; font-weight: 600;">
                                        {{ trip.trip_name|truncatewords:8 }}
                                    </h5>
                                    <p class="card-text text-muted mb-1" style="font-size: 0.8rem;">
                                        <i class="fas fa-user me-1"></i>by {{ trip.creator.get_full_name|default:trip.creator.username }}
                                    </p>
                                </div>
                            </div>
                            <div class="trip-info mt-3">
                                {% if trip.start_date %}
                                <p class="mb-1" style="font-size: 0.85rem;">
                                    <i class="fas fa-calendar text-success me-2"></i>
                                    <strong>Start:</strong> {{ trip.start_date|date:"M d, Y" }}
                                </p>
                                {% endif %}
                                {% if trip.end_date %}
                                <p class="mb-1" style="font-size: 0.85rem;">
                                    <i class="fas fa-calendar-check text-success me-2"></i>
                                    <strong>End:</strong> {{ trip.end_date|date:"M d, Y" }}
                                </p>
                                {% endif %}
                                {% if trip.destination %}
                                <p class="mb-0" style="font-size: 0.85rem;">
                                    <i class="fas fa-map-marked-alt text-success me-2"></i>
                                    <strong>{{ trip.destination.name }}</strong>
                                </p>
                                {% endif %}
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-success" style="font-size: 0.75rem;">
                                    <i class="fas fa-clock me-1"></i>Created {{ trip.created_at|timesince }} ago
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'trip_list' %}" class="btn btn-primary">
                <i class="fas fa-map-marked me-2"></i>Explore All Trips
            </a>
            <a href="{% url 'create_trip' %}" class="btn btn-success ms-2">
                <i class="fas fa-plus me-2"></i>Create Your Trip
            </a>
        </div>
        {% else %}
        <div class="text-center py-5">
            <i class="fas fa-route fa-4x text-muted mb-3"></i>
            <p class="text-muted mb-3">No trips available yet. Be the first to create one!</p>
            <a href="{% url 'create_trip' %}" class="btn btn-success">
                <i class="fas fa-plus me-2"></i>Create Your First Trip
            </a>
        </div>
        {% endif %}
    </div>
</section>

<style>
.trip-card-link .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
}
</style>

<!-- Travel Buddies Section (Tab Content) -->
<section class="tab-section" id="buddies-section" style="background-color: var(--hygge-cream);">
    <div class="container py-4">
        <div class="row">
            <div class="col-12 mb-4">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="h3 fw-bold mb-2" style="color: var(--hygge-green);">Newest Community Members</h2>
                        <p class="text-muted mb-0">Connect with fellow sustainable travelers</p>
                    </div>
                    <a href="{% url 'user_list' %}" class="btn btn-outline-primary btn-sm" style="color: #1e5a3d; border-color: #1e5a3d;">
                        View All <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>

        {% if recent_users %}
        <div class="row g-3">
            {% for buddy in recent_users|slice:":12" %}
            <div class="col-6 col-md-4 col-lg-3 col-xl-2">
                <a href="{% url 'public_profile' buddy.username %}" class="community-member-card" style="text-decoration: none; color: inherit;">
                    <div class="card h-100 border-0 shadow-sm" style="transition: transform 0.3s, box-shadow 0.3s;">
                        <div class="card-body text-center p-3">
                            {% if buddy.userprofile.avatar %}
                                <img src="{{ buddy.userprofile.avatar.url }}"
                                     alt="{{ buddy.get_full_name|default:buddy.username }}"
                                     class="rounded-circle mb-2"
                                     style="width: 60px; height: 60px; object-fit: cover;">
                            {% else %}
                                <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center mx-auto mb-2"
                                     style="width: 60px; height: 60px;">
                                    <i class="fas fa-user text-white" style="font-size: 1.5rem;"></i>
                                </div>
                            {% endif %}
                            <h6 class="card-title mb-1" style="font-size: 0.85rem; font-weight: 600;">
                                {{ buddy.get_full_name|default:buddy.username|truncatewords:2 }}
                            </h6>
                            <p class="card-text text-muted mb-0" style="font-size: 0.7rem;">
                                <i class="fas fa-clock me-1"></i>Joined {{ buddy.date_joined|timesince }} ago
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'user_list' %}" class="btn btn-primary">
                <i class="fas fa-users me-2"></i>Discover More Travelers
            </a>
        </div>
        {% else %}
        <p class="text-center text-muted">No travelers yet. <a href="{% url 'signup' %}">Join the community!</a></p>
        {% endif %}
    </div>
</section>

<style>
.community-member-card .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
}
</style>

<script>
function switchTab(tabName) {
    // Remove active class from all tab buttons
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));

    // Remove active class from all sections
    document.querySelectorAll('.tab-section').forEach(section => section.classList.remove('active'));

    // Add active class to selected button
    document.getElementById(tabName + '-tab').classList.add('active');

    // Add active class to selected section
    document.getElementById(tabName + '-section').classList.add('active');
}

// Experiences Carousel Functionality
function scrollExperiences(direction) {
    const carousel = document.getElementById('experiencesCarousel');
    if (!carousel) return;

    // Responsive scroll amount based on screen size
    let cardWidth = 260; // Base card width + gap
    if (window.innerWidth <= 576) {
        cardWidth = 200; // Mobile size
    } else if (window.innerWidth <= 768) {
        cardWidth = 220; // Tablet size
    }

    const scrollAmount = direction === 'next' ? cardWidth : -cardWidth;

    carousel.scrollBy({
        left: scrollAmount,
        behavior: 'smooth'
    });
}

// Accommodations Carousel Functionality
function scrollAccommodations(direction) {
    const carousel = document.getElementById('accommodationsCarousel');
    if (!carousel) return;

    // Calculate exact card width including gap
    const firstCard = carousel.querySelector('.experience-card');
    if (!firstCard) return;

    const cardWidth = firstCard.offsetWidth;
    const gap = parseFloat(window.getComputedStyle(carousel).gap) || 32;

    // On desktop, scroll multiple cards for better UX
    const isDesktop = window.innerWidth > 1024;
    const cardsToScroll = isDesktop ? 3 : (window.innerWidth > 768 ? 2 : 1);

    const scrollAmount = (cardWidth + gap) * cardsToScroll;
    const targetScroll = direction === 'next'
        ? carousel.scrollLeft + scrollAmount
        : carousel.scrollLeft - scrollAmount;

    carousel.scrollTo({
        left: targetScroll,
        behavior: 'smooth'
    });
}
</script>

<!-- Hygge Philosophy Section -->
<section id="hygge-section" class="py-4" style="background-color: var(--hygge-warm-white);">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto text-center mb-4">
                <h2 class="h3 fw-bold mb-3" style="color: var(--hygge-green);">
                    The Art of Hygge in Travel
                </h2>
                <p style="color: #5a5a5a;">
                    <strong>Hygge</strong> (pronounced "hoo-gah") is the Danish concept of creating
                    atmosphere and enjoying life's simple pleasures with people you care about.
                </p>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-4">
                <div class="hygge-feature text-center p-3">
                    <div class="mb-2">
                        <i class="fas fa-heart" style="font-size: 2rem; color: var(--hygge-green);"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: var(--hygge-green);">Mindful Moments</h5>
                    <p class="small mb-0" style="color: #5a5a5a;">
                        Slow down and savor each experience with intention and presence.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="hygge-feature text-center p-3">
                    <div class="mb-2">
                        <i class="fas fa-users" style="font-size: 2rem; color: var(--hygge-green);"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: var(--hygge-green);">Connection</h5>
                    <p class="small mb-0" style="color: #5a5a5a;">
                        Build genuine relationships with communities and environments.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="hygge-feature text-center p-3">
                    <div class="mb-2">
                        <i class="fas fa-leaf" style="font-size: 2rem; color: var(--hygge-green);"></i>
                    </div>
                    <h5 class="fw-bold mb-2" style="color: var(--hygge-green);">Sustainability</h5>
                    <p class="small mb-0" style="color: #5a5a5a;">
                        Travel responsibly with eco-friendly choices and local support.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Sustainability Facts Section -->
<section class="py-5" style="background-color: var(--hygge-warm-white);">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="h1 fw-bold mb-4" style="color: var(--hygge-green);">
                    <i class="fas fa-globe-americas me-3"></i>Why Sustainable Travel Matters
                </h2>
                <p class="lead text-muted">
                    Every journey is an opportunity to make a positive impact. Here's why sustainable travel is essential:
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for fact in sustainability_facts %}
            <div class="col-lg-4">
                <div class="card card-hygge h-100 p-4">
                    <div class="d-flex align-items-start">
                        <div class="flex-shrink-0 me-3">
                            <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" 
                                 style="width: 50px; height: 50px;">
                                <i class="fas fa-exclamation-triangle text-white"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="fw-bold mb-3" style="color: var(--hygge-green);">Did You Know?</h5>
                            <p class="text-muted mb-3">{{ fact.fact }}</p>
                            <div class="p-3 rounded" style="background-color: var(--hygge-warm-white);">
                                <strong style="color: var(--hygge-green);">What You Can Do:</strong>
                                <p class="mb-0 mt-1 text-muted">{{ fact.action }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Survey CTA Section -->
{% if user.is_authenticated and not has_survey %}
<section class="py-5" style="background: linear-gradient(135deg, var(--hygge-soft-blue), var(--hygge-light-green));">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center text-white">
                <h2 class="h1 fw-bold mb-4">
                    <i class="fas fa-compass me-3"></i>Start Your Hygge Travel Journey
                </h2>
                <p class="lead mb-4">
                    Tell us about your travel style and sustainability goals. We'll help you discover 
                    mindful, eco-friendly travel options that align with your values.
                </p>
                <a href="{% url 'survey' %}" class="btn btn-light btn-lg px-5 py-3">
                    <i class="fas fa-clipboard-list me-2"></i>Take Our Travel Survey
                </a>
                <p class="mt-3 mb-0 opacity-75">
                    <small><i class="fas fa-clock me-1"></i>Takes about 5 minutes</small>
                </p>
            </div>
        </div>
    </div>
</section>
{% elif not user.is_authenticated %}
<section class="py-5" style="background: linear-gradient(135deg, var(--hygge-soft-blue), var(--hygge-light-green));">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center text-white">
                <h2 class="h1 fw-bold mb-4">
                    <i class="fas fa-compass me-3"></i>Ready to Join the HygGeo Community?
                </h2>
                <p class="lead mb-4">
                    Connect with like-minded travelers, discover sustainable travel options, 
                    and bring the spirit of hygge to your adventures.
                </p>
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="{% url 'signup' %}" class="btn btn-light btn-lg px-5 py-3">
                        <i class="fas fa-user-plus me-2"></i>Create Account
                    </a>
                    <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg px-5 py-3">
                        <i class="fas fa-sign-in-alt me-2"></i>Login
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Features Preview Section -->
<section class="py-5" style="background-color: var(--hygge-cream);">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto text-center mb-5">
                <h2 class="h1 fw-bold mb-4" style="color: var(--hygge-green);">
                    Coming Soon: Curated Sustainable Travel
                </h2>
                <p class="lead text-muted">
                    We're building a platform that connects you with verified eco-friendly accommodations, 
                    sustainable tour operators, and mindful travel experiences.
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-hotel text-success" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold" style="color: var(--hygge-green);">Eco Accommodations</h5>
                    <p class="text-muted">Certified sustainable hotels, hostels, and unique stays</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-route text-info" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold" style="color: var(--hygge-green);">Green Transportation</h5>
                    <p class="text-muted">Low-carbon travel options and route planning</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-utensils text-warning" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold" style="color: var(--hygge-green);">Local Experiences</h5>
                    <p class="text-muted">Authentic cultural activities and local food experiences</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-hands-helping text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold" style="color: var(--hygge-green);">Impact Tracking</h5>
                    <p class="text-muted">See your positive environmental and social impact</p>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Hero Banner Styles */
.hero-banner {
    position: relative;
    background: var(--hygge-green);
    display: flex;
    align-items: center;
}

@media (max-width: 768px) {
    .hero-banner {
        min-height: 60vh !important;
        align-items: center;
        padding: 1rem 0;
    }
}

@media (max-width: 576px) {
    .hero-banner {
        min-height: 50vh !important;
        align-items: center;
        padding: 0.5rem 0;
    }
}

.banner-carousel {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.banner-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: all 1.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.banner-slide.active {
    opacity: 1;
    visibility: visible;
}

/* CLS Prevention: Aspect Ratio Containers */
.img-aspect-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}

.img-aspect-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 3px solid #e2e8f0;
    border-top-color: var(--hygge-green);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    opacity: 0.5;
}

.img-aspect-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.img-aspect-container.loaded::before {
    display: none;
}

.img-cover {
    object-fit: cover;
    object-position: center;
    font-family: 'object-fit: cover;'; /* IE11 polyfill */
}

.banner-slide .img-aspect-container img {
    transition: transform 8s ease-out;
}

.banner-slide.active .img-aspect-container img {
    transform: scale(1.05);
}

@keyframes spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

.banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        135deg,
        rgba(0,0,0,0.4) 0%,
        rgba(0,0,0,0.3) 40%,
        rgba(0,0,0,0.6) 100%
    );
}

.text-shadow {
    text-shadow: 0 4px 20px rgba(0,0,0,0.7);
}

.brand-content {
    padding: 2rem;
    background: rgba(0,0,0,0.2);
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.1);
}

@media (max-width: 768px) {
    .brand-content {
        padding: 1rem;
        border-radius: 15px;
        margin-bottom: 1rem;
        text-align: center;
    }

    .brand-content h1 {
        font-size: 2.2rem !important;
        margin-bottom: 1rem !important;
    }

    .brand-content .h3 {
        font-size: 1rem !important;
        margin-top: 0.5rem !important;
    }

    .brand-content .lead {
        font-size: 0.9rem !important;
        margin-bottom: 1rem !important;
        display: none; /* Hide description on mobile to save space */
    }
}

@media (max-width: 576px) {
    .brand-content {
        padding: 0.75rem;
        border-radius: 12px;
        margin: 0 0.5rem 0.5rem 0.5rem;
    }

    .brand-content h1 {
        font-size: 1.8rem !important;
        margin-bottom: 0.5rem !important;
    }

    .brand-content .h3 {
        font-size: 0.9rem !important;
        margin-top: 0.25rem !important;
    }

    .brand-content .d-flex {
        flex-direction: column !important;
        gap: 0.5rem !important;
    }

    .brand-content .btn {
        font-size: 0.8rem !important;
        padding: 0.5rem 1rem !important;
    }
}

.destination-info-overlay {
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-end;
    padding: 2rem;
}

@media (max-width: 768px) {
    .destination-info-overlay {
        align-items: center;
        padding: 0.5rem;
        justify-content: center;
        height: auto;
        min-height: unset;
    }
}

@media (max-width: 576px) {
    .destination-info-overlay {
        padding: 0.25rem;
        justify-content: flex-start;
        align-items: center;
        height: auto;
        padding-top: 1rem;
    }
}

.destination-overlay-content {
    background: linear-gradient(
        135deg,
        rgba(0,0,0,0.7) 0%,
        rgba(0,0,0,0.5) 50%,
        rgba(0,0,0,0.8) 100%
    );
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 2rem;
    max-width: 400px;
    width: 100%;
    border: 1px solid rgba(255,255,255,0.2);
    transition: opacity 0.5s ease;
    /* CLS Prevention: Reserve space for dynamic content */
    min-height: 350px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.destination-overlay-content.updating {
    opacity: 0.7;
}

@media (max-width: 768px) {
    .destination-overlay-content {
        max-width: 320px;
        padding: 1rem;
        border-radius: 15px;
        text-align: center;
    }
}

@media (max-width: 576px) {
    .destination-overlay-content {
        max-width: 280px;
        padding: 0.75rem;
        border-radius: 12px;
        margin-bottom: 3rem; /* Add space for scroll indicator */
    }
}

.destination-badge {
    display: inline-flex;
    align-items: center;
    background: linear-gradient(135deg, var(--hygge-green), var(--hygge-light-green));
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 15px rgba(74, 124, 89, 0.3);
}

.destination-badge i {
    margin-right: 0.5rem;
}

@media (max-width: 768px) {
    .destination-badge {
        font-size: 0.85rem;
        padding: 0.45rem 0.9rem;
        margin-bottom: 1.25rem;
        justify-content: center;
    }
}

@media (max-width: 576px) {
    .destination-badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.6rem;
        margin-bottom: 0.5rem;
        justify-content: center;
        align-items: center;
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
    }
}

.destination-name {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    color: white;
    line-height: 1.1;
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
}

@media (max-width: 768px) {
    .destination-name {
        font-size: 1.8rem;
        margin-bottom: 0.75rem;
    }
}

@media (max-width: 576px) {
    .destination-name {
        font-size: 1.25rem;
        margin-bottom: 0.25rem;
        text-align: center;
    }
}

.destination-country {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    color: rgba(255,255,255,0.9);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-shadow: 0 1px 5px rgba(0,0,0,0.6);
}

@media (max-width: 576px) {
    .destination-country {
        font-size: 0.8rem;
        margin-bottom: 0.5rem;
        text-align: center;
    }
}

.destination-description {
    font-size: 1.1rem;
    margin-bottom: 2rem;
    color: rgba(255,255,255,0.85);
    line-height: 1.6;
    text-shadow: 0 1px 3px rgba(0,0,0,0.6);
}

@media (max-width: 768px) {
    .destination-description {
        font-size: 1rem;
        margin-bottom: 1.5rem;
    }
}

@media (max-width: 576px) {
    .destination-description {
        font-size: 0.8rem;
        margin-bottom: 0.5rem;
        text-align: center;
        display: none; /* Hide description on mobile to save space */
    }
}

.destination-stats {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

@media (max-width: 768px) {
    .destination-stats {
        gap: 1rem;
        margin-bottom: 1.5rem;
        justify-content: center;
    }
}

@media (max-width: 576px) {
    .destination-stats {
        gap: 0.5rem;
        margin-bottom: 0.5rem;
        flex-direction: row;
        align-items: center;
        justify-content: center;
    }
}

.destination-stats .stat {
    display: flex;
    align-items: center;
    font-size: 0.9rem;
    color: white;
    background: rgba(255,255,255,0.15);
    padding: 0.7rem 1.2rem;
    border-radius: 25px;
    font-weight: 600;
    border: 1px solid rgba(255,255,255,0.3);
    backdrop-filter: blur(5px);
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
}

@media (max-width: 576px) {
    .destination-stats .stat {
        font-size: 0.7rem;
        padding: 0.25rem 0.5rem;
        width: auto;
        max-width: 120px;
        justify-content: center;
    }
}

.destination-stats .stat i {
    margin-right: 0.7rem;
    color: #FFD700;
    font-size: 1.1rem;
}

.btn-explore {
    background: linear-gradient(135deg, var(--hygge-green), var(--hygge-light-green));
    border: none;
    color: white;
    font-weight: 700;
    padding: 1rem 2rem;
    border-radius: 30px;
    transition: all 0.3s ease;
    font-size: 1rem;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    box-shadow: 0 8px 25px rgba(74, 124, 89, 0.3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

@media (max-width: 768px) {
    .btn-explore {
        padding: 0.8rem 1.5rem;
        font-size: 0.9rem;
        align-self: center;
    }
}

@media (max-width: 576px) {
    .btn-explore {
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
        width: 100%;
        justify-content: center;
        max-width: 200px;
        margin: 0 auto;
        display: flex;
    }
}

.btn-explore:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(74, 124, 89, 0.4);
    color: white;
    text-decoration: none;
}

/* Carousel Indicators - Updated for new layout */
.carousel-indicators {
    position: relative;
    margin-top: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 0;
}

@media (max-width: 768px) {
    .carousel-indicators {
        margin-top: 1.5rem;
        gap: 8px;
    }
}

@media (max-width: 576px) {
    .carousel-indicators {
        margin-top: 0.5rem;
        gap: 4px;
    }
}

.indicator {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: rgba(74, 124, 89, 0.3);
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    padding: 0;
}

.indicator.active {
    background: var(--hygge-green);
    transform: scale(1.2);
    box-shadow: 0 4px 12px rgba(74, 124, 89, 0.4);
}

.indicator:hover {
    background: var(--hygge-light-green);
}

/* Placeholder image styles for new layout */
.placeholder-image {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 6rem;
    color: white;
    opacity: 0.7;
}

.placeholder-image.nordic {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.placeholder-image.forest {
    background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
}

.placeholder-image.coastal {
    background: linear-gradient(135deg, #2196F3 0%, #1565C0 100%);
}

/* Mobile scroll indicator */
.mobile-scroll-indicator {
    position: absolute;
    bottom: 0.5rem;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    color: white;
    z-index: 50;
    animation: gentle-bounce 2s ease-in-out infinite;
}

.scroll-text {
    font-size: 0.8rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
    text-shadow: 0 2px 8px rgba(0,0,0,0.7);
    opacity: 0.9;
}

.scroll-arrow {
    font-size: 1.2rem;
    opacity: 0.8;
}

@keyframes gentle-bounce {
    0%, 100% {
        transform: translateX(-50%) translateY(0);
    }
    50% {
        transform: translateX(-50%) translateY(-5px);
    }
}

@media (max-width: 576px) {
    .mobile-scroll-indicator {
        bottom: 0.5rem;
    }

    .scroll-text {
        font-size: 0.7rem;
    }

    .scroll-arrow {
        font-size: 1rem;
    }
}

/* Hygge Features Styles */
.hygge-feature {
    transition: all 0.3s ease;
    border-radius: 15px;
}

.hygge-feature:hover {
    background: rgba(255,255,255,0.7);
    transform: translateY(-2px);
}

@media (max-width: 768px) {
    .hygge-feature {
        padding: 1.5rem !important;
    }
}

@media (max-width: 576px) {
    .hygge-feature {
        padding: 1rem !important;
    }

    .hygge-feature i {
        font-size: 1.5rem !important;
    }

    .hygge-feature h5 {
        font-size: 1rem !important;
    }

    .hygge-feature p {
        font-size: 0.8rem !important;
    }
}

/* Experiences Carousel Styles */
.experiences-carousel-wrapper {
    position: relative;
    max-width: 100%;
    overflow: hidden;
}

.experiences-carousel {
    display: flex;
    gap: 2rem;
    padding: 1rem 0;
    overflow-x: auto;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.experiences-carousel::-webkit-scrollbar {
    display: none;
}

.experience-card {
    flex: 0 0 240px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid rgba(74, 124, 89, 0.05);
    /* CLS Prevention: Consistent card height */
    min-height: 380px;
    display: flex;
    flex-direction: column;
}

.experience-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}

.experience-image {
    /* CLS Prevention: Reserve space for image */
    min-height: 140px;
    position: relative;
    height: 140px;
    overflow: hidden;
}

.experience-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.experience-card:hover .experience-image img {
    transform: scale(1.05);
}

.experience-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--hygge-green), var(--hygge-light-green));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: white;
    opacity: 0.9;
}

.experience-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.1) 0%,
        transparent 50%,
        rgba(0,0,0,0.3) 100%
    );
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
    padding: 1rem;
}

.experience-type-badge {
    background: rgba(74, 124, 89, 0.9);
    color: white;
    padding: 0.25rem 0.6rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

.experience-content {
    padding: 1rem;
}

.experience-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--hygge-green);
    margin-bottom: 0.5rem;
    line-height: 1.2;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.experience-location {
    color: #666;
    font-size: 0.75rem;
    margin-bottom: 0.75rem;
    font-weight: 500;
}

.experience-description {
    display: none; /* Hide description for compact design */
}

.experience-stats {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}

.experience-stats .stat {
    display: flex;
    align-items: center;
    font-size: 0.7rem;
    color: #666;
    background: var(--hygge-warm-white);
    padding: 0.25rem 0.5rem;
    border-radius: 10px;
    font-weight: 600;
    border: 1px solid rgba(74, 124, 89, 0.1);
}

.experience-stats .stat i {
    margin-right: 0.3rem;
    color: var(--hygge-green);
    font-size: 0.7rem;
}

.btn-experience {
    background: var(--hygge-green);
    border: none;
    color: white;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    transition: all 0.3s ease;
    font-size: 0.8rem;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    width: 100%;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(74, 124, 89, 0.2);
}

.btn-experience:hover {
    background: var(--hygge-light-green);
    transform: translateY(-1px);
    box-shadow: 0 4px 15px rgba(74, 124, 89, 0.3);
    color: white;
    text-decoration: none;
}

/* Carousel Navigation */
.experiences-nav {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    margin-top: 1.5rem;
}

.nav-btn {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 1px solid var(--hygge-green);
    background: white;
    color: var(--hygge-green);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1rem;
    box-shadow: 0 2px 8px rgba(74, 124, 89, 0.1);
}

.nav-btn:hover {
    background: var(--hygge-green);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(74, 124, 89, 0.2);
}

.nav-btn:active {
    transform: translateY(0);
}

/* Mobile Optimizations */
@media (max-width: 768px) {
    .experience-card {
        flex: 0 0 200px;
    }

    .experience-content {
        padding: 0.75rem;
    }

    .experience-title {
        font-size: 0.9rem;
    }

    .experience-image {
        height: 120px;
    }
}

@media (max-width: 576px) {
    .experiences-carousel {
        gap: 1rem;
        padding: 0.5rem 0;
    }

    .experience-card {
        flex: 0 0 180px;
    }

    .experience-content {
        padding: 0.75rem;
    }

    .experience-title {
        font-size: 0.85rem;
        margin-bottom: 0.4rem;
    }

    .experience-location {
        font-size: 0.7rem;
        margin-bottom: 0.5rem;
    }

    .experience-stats {
        gap: 0.3rem;
        margin-bottom: 0.5rem;
    }

    .experience-stats .stat {
        font-size: 0.65rem;
        padding: 0.2rem 0.4rem;
    }

    .btn-experience {
        font-size: 0.7rem;
        padding: 0.4rem 0.8rem;
        width: 100%;
        justify-content: center;
    }

    .nav-btn {
        width: 36px;
        height: 36px;
        font-size: 0.85rem;
    }
}

/* Hero Visual - Clean Professional Design */
.hero-visual {
    position: relative;
    height: 400px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: visible;
    margin: 0;
    padding: 2rem;
}

@media (max-width: 768px) {
    .hero-visual {
        height: 340px;
        padding: 1.5rem;
    }
}

@media (max-width: 576px) {
    .hero-visual {
        height: 300px;
        padding: 1rem;
    }
}

@media (max-width: 480px) {
    .hero-visual {
        height: 270px;
        padding: 0.75rem;
    }
}

.visual-showcase {
    position: relative;
    width: 100%;
    height: 100%;
    max-width: 550px;
}

/* Feature Grid */
.feature-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 2rem;
    width: 100%;
    height: 100%;
    padding: 2rem;
}

.feature-item {
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 16px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    position: relative;
    overflow: hidden;
}

.feature-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--hygge-green), var(--hygge-light-green));
    transform: scaleX(0);
    transition: transform 0.3s ease;
}

.feature-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.15);
}

.feature-item:hover::before {
    transform: scaleX(1);
}

.feature-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 1rem;
    background: linear-gradient(135deg, var(--hygge-green), var(--hygge-light-green));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    box-shadow: 0 4px 15px rgba(74, 124, 89, 0.3);
}

.feature-item h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: #2c3e50;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
}

.feature-item p {
    font-size: 0.85rem;
    color: #7f8c8d;
    margin: 0;
    line-height: 1.4;
}

/* Specific Feature Styling */
.feature-sustainability .feature-icon {
    background: linear-gradient(135deg, #27ae60, #2ecc71);
}

.feature-hygge .feature-icon {
    background: linear-gradient(135deg, #e74c3c, #ff6b6b);
}

.feature-community .feature-icon {
    background: linear-gradient(135deg, #3498db, #74b9ff);
}

.feature-curated .feature-icon {
    background: linear-gradient(135deg, #f39c12, #fdcb6e);
}

/* Central Logo Element */
.central-element {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}

.logo-circle {
    width: 120px;
    height: 120px;
    background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.9) 100%);
    border: 3px solid rgba(255,255,255,0.6);
    border-radius: 50%;
    backdrop-filter: blur(30px);
    box-shadow:
        0 8px 32px rgba(0,0,0,0.12),
        inset 0 1px 0 rgba(255,255,255,1);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: gentle-pulse 4s ease-in-out infinite;
}

.logo-content {
    text-align: center;
}

.logo-text {
    font-size: 1.3rem;
    font-weight: 800;
    color: var(--hygge-green);
    margin-bottom: 0.25rem;
    font-family: 'Georgia', serif;
}

.tagline {
    font-size: 0.65rem;
    color: #7f8c8d;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Background Decoration */
.bg-decoration {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    overflow: hidden;
}

.decoration-circle {
    position: absolute;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 50%;
    animation: rotate-slow 20s linear infinite;
}

.circle-1 {
    width: 200px;
    height: 200px;
    top: -50px;
    right: -50px;
    animation-delay: 0s;
}

.circle-2 {
    width: 150px;
    height: 150px;
    bottom: -30px;
    left: -30px;
    animation-delay: 10s;
}

.circle-3 {
    width: 300px;
    height: 300px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation-delay: 5s;
}

.decoration-line {
    position: absolute;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: fade-pulse 3s ease-in-out infinite;
}

.line-1 {
    width: 100px;
    top: 20%;
    left: 10%;
    transform: rotate(45deg);
    animation-delay: 0s;
}

.line-2 {
    width: 80px;
    bottom: 25%;
    right: 15%;
    transform: rotate(-30deg);
    animation-delay: 1.5s;
}

/* Animations */
@keyframes gentle-pulse {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
        box-shadow:
            0 8px 32px rgba(0,0,0,0.12),
            inset 0 1px 0 rgba(255,255,255,1);
    }
    50% {
        transform: translate(-50%, -50%) scale(1.02);
        box-shadow:
            0 12px 40px rgba(0,0,0,0.15),
            inset 0 1px 0 rgba(255,255,255,1);
    }
}

@keyframes rotate-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes fade-pulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.7; }
}

/* Destination Carousel Styles */
.destination-carousel-container {
    position: relative;
    width: 100%;
    max-width: 450px;
    height: 380px;
    overflow: hidden;
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.15);
    background: transparent;
    margin: 0 auto 70px auto;
}

@media (max-width: 1200px) {
    .destination-carousel-container {
        max-width: 420px;
        height: 360px;
        margin: 0 auto 65px auto;
    }
}

@media (max-width: 992px) {
    .destination-carousel-container {
        max-width: 400px;
        height: 340px;
        margin: 0 auto 65px auto;
    }
}

@media (max-width: 768px) {
    .destination-carousel-container {
        max-width: 380px;
        height: 320px;
        border-radius: 16px;
        box-shadow: 0 12px 28px rgba(0,0,0,0.18);
        margin: 80px auto 90px auto;
    }
}

@media (max-width: 576px) {
    .destination-carousel-container {
        max-width: 340px;
        height: 280px;
        border-radius: 14px;
        box-shadow: 0 10px 24px rgba(0,0,0,0.2);
        margin: 100px auto 100px auto;
    }
}

@media (max-width: 480px) {
    .destination-carousel-container {
        max-width: 300px;
        height: 250px;
        border-radius: 12px;
        margin: 120px auto 110px auto;
    }
}

.destination-carousel {
    position: relative;
    width: 100%;
    height: 100%;
}

.destination-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
    transform: scale(0.95) translateY(10px);
    border-radius: 20px;
    overflow: hidden;
    margin: 0;
    box-sizing: border-box;
}

@media (max-width: 768px) {
    .destination-slide {
        border-radius: 16px;
    }
}

@media (max-width: 576px) {
    .destination-slide {
        border-radius: 14px;
    }
}

@media (max-width: 480px) {
    .destination-slide {
        border-radius: 12px;
    }
}

.destination-slide.active {
    opacity: 1;
    visibility: visible;
    transform: scale(1) translateY(0);
    z-index: 2;
    box-shadow: 0 25px 50px rgba(0,0,0,0.2);
}

.destination-image {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.destination-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.8s ease;
}

.destination-slide.active .destination-image img {
    transform: scale(1.02);
}

.destination-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
}

.destination-slide.active img {
    transform: scale(1.05);
}


.placeholder-image {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    color: white;
    opacity: 0.7;
}

.placeholder-image.nordic {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.placeholder-image.forest {
    background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
}

.placeholder-image.coastal {
    background: linear-gradient(135deg, #2196F3 0%, #1565C0 100%);
}

.image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        180deg,
        rgba(0,0,0,0.1) 0%,
        rgba(0,0,0,0.3) 60%,
        rgba(0,0,0,0.8) 100%
    );
}

.destination-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 2rem;
    background: linear-gradient(
        to top,
        rgba(0,0,0,0.9) 0%,
        rgba(0,0,0,0.7) 50%,
        rgba(0,0,0,0.4) 75%,
        rgba(0,0,0,0.1) 90%,
        transparent 100%
    );
    color: white;
    transform: translateY(20px);
    opacity: 0;
    transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1) 0.3s;
    margin: 0;
    box-sizing: border-box;
}

@media (max-width: 768px) {
    .destination-content {
        padding: 1.5rem;
    }
}

@media (max-width: 576px) {
    .destination-content {
        padding: 1.2rem;
    }
}

@media (max-width: 480px) {
    .destination-content {
        padding: 1rem;
    }
}

.destination-slide.active .destination-content {
    transform: translateY(0);
    opacity: 1;
}

.destination-badge {
    display: inline-flex;
    align-items: center;
    background: linear-gradient(135deg, rgba(46, 125, 50, 0.9) 0%, rgba(76, 175, 80, 0.9) 100%);
    color: white;
    padding: 0.4rem 0.9rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    margin-bottom: 1rem;
    backdrop-filter: blur(10px);
    box-shadow: 0 3px 15px rgba(46, 125, 50, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.destination-badge i {
    margin-right: 0.5rem;
}

.destination-name {
    font-size: 2.2rem;
    font-weight: 800;
    margin-bottom: 0.4rem;
    color: white;
    text-shadow: 0 2px 12px rgba(0,0,0,0.8);
    line-height: 1.1;
    letter-spacing: -0.02em;
}

@media (max-width: 768px) {
    .destination-name {
        font-size: 1.8rem;
        margin-bottom: 0.3rem;
    }
}

@media (max-width: 576px) {
    .destination-name {
        font-size: 1.5rem;
        margin-bottom: 0.25rem;
        line-height: 1.2;
    }
}

@media (max-width: 480px) {
    .destination-name {
        font-size: 1.3rem;
        margin-bottom: 0.2rem;
    }
}

.destination-country {
    font-size: 1rem;
    margin-bottom: 1rem;
    color: rgba(255,255,255,0.9);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-shadow: 0 1px 5px rgba(0,0,0,0.5);
}

@media (max-width: 768px) {
    .destination-country {
        font-size: 0.9rem;
        margin-bottom: 0.8rem;
    }
}

@media (max-width: 576px) {
    .destination-country {
        font-size: 0.8rem;
        margin-bottom: 0.6rem;
        letter-spacing: 0.3px;
    }
}

@media (max-width: 480px) {
    .destination-country {
        font-size: 0.75rem;
        margin-bottom: 0.5rem;
    }
}

.destination-description {
    font-size: 1rem;
    margin-bottom: 1.2rem;
    color: rgba(255,255,255,0.85);
    line-height: 1.5;
    font-weight: 400;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
}

@media (max-width: 768px) {
    .destination-description {
        font-size: 0.9rem;
        margin-bottom: 1rem;
        line-height: 1.4;
    }
}

@media (max-width: 576px) {
    .destination-description {
        font-size: 0.85rem;
        margin-bottom: 0.8rem;
        line-height: 1.3;
    }
}

@media (max-width: 480px) {
    .destination-description {
        font-size: 0.8rem;
        margin-bottom: 0.6rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

.destination-stats {
    display: flex;
    gap: 0.8rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

@media (max-width: 768px) {
    .destination-stats {
        gap: 0.6rem;
        margin-bottom: 0.8rem;
    }
}

@media (max-width: 576px) {
    .destination-stats {
        gap: 0.5rem;
        margin-bottom: 0.6rem;
        flex-direction: row;
        align-items: flex-start;
    }
}

@media (max-width: 480px) {
    .destination-stats {
        gap: 0.4rem;
        margin-bottom: 0.5rem;
        flex-direction: column;
        align-items: flex-start;
    }
}

.destination-stats .stat {
    display: flex;
    align-items: center;
    font-size: 0.75rem;
    color: rgba(255,255,255,0.95);
    background: rgba(255,255,255,0.12);
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.25);
    font-weight: 600;
    transition: all 0.3s ease;
}

@media (max-width: 768px) {
    .destination-stats .stat {
        padding: 0.35rem 0.7rem;
        font-size: 0.7rem;
        border-radius: 18px;
    }
}

@media (max-width: 576px) {
    .destination-stats .stat {
        padding: 0.3rem 0.6rem;
        font-size: 0.65rem;
        border-radius: 16px;
        width: fit-content;
    }
}

@media (max-width: 480px) {
    .destination-stats .stat {
        padding: 0.25rem 0.5rem;
        font-size: 0.6rem;
        border-radius: 14px;
        width: 100%;
    }
}

.destination-stats .stat:hover {
    background: rgba(255,255,255,0.2);
    transform: translateY(-2px);
}

.destination-stats .stat i {
    margin-right: 0.5rem;
    color: #FFD700;
}

.btn-explore {
    background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.15) 100%);
    border: 2px solid rgba(255,255,255,0.4);
    color: white;
    font-weight: 700;
    padding: 0.6rem 1.5rem;
    border-radius: 25px;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    backdrop-filter: blur(15px);
    font-size: 0.85rem;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.25);
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-top: 0.5rem;
}

@media (max-width: 768px) {
    .btn-explore {
        padding: 0.5rem 1.2rem;
        font-size: 0.8rem;
        border-radius: 22px;
        letter-spacing: 0.2px;
        margin-top: 0.4rem;
    }
}

@media (max-width: 576px) {
    .btn-explore {
        padding: 0.45rem 1rem;
        font-size: 0.75rem;
        border-radius: 20px;
        letter-spacing: 0.1px;
        width: 100%;
        justify-content: center;
        margin-top: 0.3rem;
    }
}

@media (max-width: 480px) {
    .btn-explore {
        padding: 0.4rem 0.8rem;
        font-size: 0.7rem;
        border-radius: 18px;
        letter-spacing: 0.05px;
        margin-top: 0.25rem;
    }
}

.btn-explore:hover {
    background: rgba(255,255,255,0.95);
    color: var(--hygge-green);
    border-color: rgba(255,255,255,0.9);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 12px 40px rgba(0,0,0,0.35);
}

.btn-explore i {
    margin-right: 0.5rem;
}







.carousel-indicators {
    position: absolute;
    bottom: -50px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 18px;
    background: rgba(0,0,0,0.35);
    border-radius: 25px;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255,255,255,0.1);
    z-index: 10;
}

@media (max-width: 768px) {
    .carousel-indicators {
        bottom: -60px;
        padding: 8px 14px;
        border-radius: 20px;
        gap: 6px;
    }
}

@media (max-width: 576px) {
    .carousel-indicators {
        bottom: -70px;
        padding: 6px 12px;
        border-radius: 18px;
        gap: 5px;
    }
}

@media (max-width: 480px) {
    .carousel-indicators {
        bottom: -80px;
        padding: 5px 10px;
        border-radius: 16px;
        gap: 4px;
    }
}

.indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255,255,255,0.5);
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    border: 2px solid rgba(255,255,255,0.2);
    padding: 0;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

@media (max-width: 768px) {
    .indicator {
        width: 10px;
        height: 10px;
        border-width: 1.5px;
    }
}

@media (max-width: 576px) {
    .indicator {
        width: 9px;
        height: 9px;
        border-width: 1px;
    }
}

@media (max-width: 480px) {
    .indicator {
        width: 8px;
        height: 8px;
        border-width: 1px;
    }
}

.indicator.active {
    background: white;
    width: 16px;
    height: 16px;
    border-color: rgba(255,255,255,0.8);
    box-shadow: 0 4px 12px rgba(255,255,255,0.4), 0 0 0 3px rgba(255,255,255,0.2);
    transform: scale(1.1);
}

@media (max-width: 768px) {
    .indicator.active {
        width: 14px;
        height: 14px;
        box-shadow: 0 3px 10px rgba(255,255,255,0.4), 0 0 0 2px rgba(255,255,255,0.2);
    }
}

@media (max-width: 576px) {
    .indicator.active {
        width: 12px;
        height: 12px;
        box-shadow: 0 2px 8px rgba(255,255,255,0.4), 0 0 0 2px rgba(255,255,255,0.2);
    }
}

@media (max-width: 480px) {
    .indicator.active {
        width: 11px;
        height: 11px;
        box-shadow: 0 2px 6px rgba(255,255,255,0.4), 0 0 0 1px rgba(255,255,255,0.2);
    }
}

.indicator:hover {
    background: rgba(255,255,255,0.9);
}

.brand-overlay {
    position: absolute;
    top: 25px;
    left: 25px;
    background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.08) 100%);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    padding: 1.2rem 1.8rem;
    color: white;
    border: 1px solid rgba(255,255,255,0.25);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
}

@media (max-width: 768px) {
    .brand-overlay {
        top: 20px;
        left: 20px;
        padding: 1rem 1.4rem;
        border-radius: 14px;
    }
}

@media (max-width: 576px) {
    .brand-overlay {
        top: 15px;
        left: 15px;
        padding: 0.8rem 1.2rem;
        border-radius: 12px;
    }
}

@media (max-width: 480px) {
    .brand-overlay {
        top: 12px;
        left: 12px;
        padding: 0.6rem 1rem;
        border-radius: 10px;
    }
}

.brand-overlay h4 {
    font-size: 1.15rem;
    font-weight: 800;
    margin-bottom: 0.3rem;
    color: white;
    text-shadow: 0 2px 8px rgba(0,0,0,0.3);
    letter-spacing: 0.3px;
}

@media (max-width: 768px) {
    .brand-overlay h4 {
        font-size: 1.05rem;
        margin-bottom: 0.25rem;
    }
}

@media (max-width: 576px) {
    .brand-overlay h4 {
        font-size: 0.95rem;
        margin-bottom: 0.2rem;
        letter-spacing: 0.2px;
    }
}

@media (max-width: 480px) {
    .brand-overlay h4 {
        font-size: 0.85rem;
        margin-bottom: 0.15rem;
        letter-spacing: 0.1px;
        line-height: 1.1;
    }
}

.brand-overlay p {
    font-size: 0.9rem;
    margin: 0;
    color: rgba(255,255,255,0.95);
    text-shadow: 0 1px 4px rgba(0,0,0,0.2);
    font-weight: 500;
}

@media (max-width: 768px) {
    .brand-overlay p {
        font-size: 0.8rem;
    }
}

@media (max-width: 576px) {
    .brand-overlay p {
        font-size: 0.75rem;
    }
}

@media (max-width: 480px) {
    .brand-overlay p {
        font-size: 0.7rem;
        line-height: 1.2;
    }
}



</style>

<script>
// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');

        // Only handle links with valid anchor targets (not just "#")
        if (href && href.length > 1 && href !== '#') {
            e.preventDefault();
            try {
                const target = document.querySelector(href);
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            } catch (error) {
                console.error('Invalid selector:', href, error);
            }
        }
    });
});

// Debug button functionality
document.addEventListener('DOMContentLoaded', function() {
    const joinBtn = document.getElementById('join-btn');
    const learnMoreBtn = document.getElementById('learn-more-btn');

    if (joinBtn) {
        console.log('Join button found:', joinBtn.href);
        joinBtn.addEventListener('click', function(e) {
            console.log('Join button clicked!');
            // Allow default behavior to proceed
        });
    }

    if (learnMoreBtn) {
        console.log('Learn More button found:', learnMoreBtn.href);
        learnMoreBtn.addEventListener('click', function(e) {
            console.log('Learn More button clicked manually!');
        });
    }
});

// Add animation on scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe all cards
document.querySelectorAll('.card-hygge').forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(30px)';
    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(card);
});

// Keyboard navigation for carousel
document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowLeft') {
        e.preventDefault();
        changeSlide(-1);
    } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        changeSlide(1);
    }
});

// Touch/swipe support for mobile
let touchStartX = 0;
let touchEndX = 0;

const destinationPanel = document.querySelector('.destination-info-overlay');
if (destinationPanel) {
    destinationPanel.addEventListener('touchstart', function(e) {
        touchStartX = e.changedTouches[0].screenX;
    });

    destinationPanel.addEventListener('touchend', function(e) {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    });
}

function handleSwipe() {
    const swipeThreshold = 50;
    const swipeDistance = touchEndX - touchStartX;

    if (Math.abs(swipeDistance) > swipeThreshold) {
        if (swipeDistance > 0) {
            // Swipe right - go to previous slide
            changeSlide(-1);
        } else {
            // Swipe left - go to next slide
            changeSlide(1);
        }
    }
}
</script>

{% endblock %}